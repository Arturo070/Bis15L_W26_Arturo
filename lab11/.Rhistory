knitr::opts_chunk$set(echo = TRUE)
gapminder <- read_csv("data/gapminder.csv") %>%
clean_names() %>%
filter(between(year, 1925, 2025))
glimpse(gapminder)
glimpse(gapminder)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
options(scipen = 999)
gapminder <- read_csv("data/gapminder.csv") %>%
clean_names() %>%
filter(between(year, 1925, 2025))
glimpse(gapminder)
gapminder %>%
distinct(country) %>%
nrow()
gapminder %>%
distinct(country)
gapminder %>%
distinct(country) %>%
nrow()
#How would we do that on paper? sub the two populations, so things like mutate
pop_growth <- gapminder %>%
filter(year %in% c(1925, 2025)) %>%
select(country, year, pop) %>%
pivot_wider(names_from = year, values_from = pop) %>%
mutate(abs_growth = `2025` - `1925`) %>%
arrange(desc(abs_growth))
pop_growth %>%
slice(1:5)
top_country %>% pop_growth$country[1]
top_country <- pop_growth$country[1]
gapminder %>%
filter(country == top_country) %>%
ggplot(aes(x = year, y = pop)) +
geom_line(color = "red3", linewidth = 1) +
labs(title = paste("Population Growth in", top_country),
x = "Year",
y = "Population") +
theme_minimal()
gapminder %>%
summarise(min = min(lex, na.rm = TRUE),
median = median(lex, na.rm = TRUE),
mean = mean(lex, na.rm = TRUE),
max = max(lex, na.rm = TRUE)
)
gapminder %>%
filter(year %in% c(1925, 2025)) %>%
ggplot(aes(x = lex, fill = factor(year))) +
geom_density(alpha = 0.6) +
labs(title = "Life Expectancy Distribution: 1925 vs 2025",
x = "Life Expectancy",
y = "Density",
fill = "Year") +
theme_minimal()
gapminder %>%
filter(year == 2025, country != "Monaco") %>%
ggplot(aes(x = gdp, y = lex)) +
geom_point(alpha = 0.6) +
labs(title = "GDP per Capita vs Life Expectancy (2025)",
x = "GDP per Capita",
y = "Life Expectancy") +
theme_minimal()
gapminder %>%
filter(year == 2025, country != "Monaco") %>%
ggplot(aes(x = gdp, y = lex)) +
geom_point(alpha = 0.6) +
labs(title = "GDP per Capita vs Life Expectancy (2025)",
x = "GDP per Capita",
y = "Life Expectancy") +
theme_minimal()
gdp_growth <- gapminder %>%
filter(year %in% c(1975, 2025), country != "Monaco") %>%
select(country, year, gdp) %>%
pivot_wider(names_from = year, values_from = gdp) %>%
mutate(abs_growth = `2025` - `1975`) %>%
arrange(desc(abs_growth))
gdp_growth %>%
slice(1:5)
top_gdp_countries <- gdp_growth$country[1:5]
gapminder %>%
filter(country %in% top_gdp_countries,
between(year, 1975, 2025)) %>%
ggplot(aes(x = year, y = gdp, color = country)) +
geom_line(linewidth = 1) +
labs(title = "GDP per Capita Growth (1975â€“2025)",
x = "Year",
y = "GDP per Capita",
color = "Country") +
theme_minimal()
gapminder %>%
filter(year %in% c(1925, 2025)) %>%
group_by(continent, year) %>%
summarise(mean_lex = mean(lex, na.rm = TRUE), .groups = "drop") %>%
pivot_wider(names_from = year, values_from = mean_lex) %>%
mutate(change = `2025` - `1925`)
gapminder %>%
filter(year %in% c(1925, 2025)) %>%
group_by(continent, year) %>%
summarise(mean_lex = mean(lex, na.rm = TRUE), .groups = "drop") %>%
ggplot(aes(x = continent, y = mean_lex, fill = factor(year))) +
geom_col(position = "dodge") +
labs(title = "Mean Life Expectancy by Continent",
x = "Continent",
y = "Mean Life Expectancy",
fill = "Year") +
theme_minimal()
gapminder %>%
filter(year %in% c(1925, 2025)) %>%
group_by(country, year) %>%
summarise(mean_lex = mean(lex, na.rm = TRUE), .groups = "drop") %>%
ggplot(aes(x = continent, y = mean_lex, fill = factor(year))) +
geom_col(position = "dodge") +
labs(title = "Mean Life Expectancy by Continent",
x = "Continent",
y = "Mean Life Expectancy",
fill = "Year") +
theme_minimal()
gapminder %>%
filter(year %in% c(1925, 2025)) %>%
group_by(country, year) %>%
summarise(mean_lex = mean(lex, na.rm = TRUE), .groups = "drop") %>%
pivot_wider(names_from = year, values_from = mean_lex) %>%
mutate(change = `2025` - `1925`)
gapminder %>%
filter(year %in% c(1925, 2025)) %>%
group_by(country, year) %>%
summarise(mean_lex = mean(lex, na.rm = TRUE), .groups = "drop") %>%
ggplot(aes(x = continent, y = mean_lex, fill = factor(year))) +
geom_col(position = "dodge") +
labs(title = "Mean Life Expectancy by Continent",
x = "Continent",
y = "Mean Life Expectancy",
fill = "Year") +
theme_minimal()
gapminder %>%
filter(year %in% c(1925, 2025)) %>%
group_by(country, year) %>%
summarise(mean_lex = mean(lex, na.rm = TRUE), .groups = "drop") %>%
ggplot(aes(x = country, y = mean_lex, fill = factor(year))) +
geom_col(position = "dodge") +
labs(title = "Mean Life Expectancy by Continent",
x = "Country",
y = "Mean Life Expectancy",
fill = "Year") +
theme_minimal()
gapminder %>%
filter(year %in% c(1925, 2025)) %>%
group_by(country, year) %>%
summarise(mean_lex = mean(lex, na.rm = TRUE), .groups = "drop") %>%
ggplot(aes(x = country, y = mean_lex, fill = factor(year))) +
geom_point(position = "dodge") +
labs(title = "Mean Life Expectancy by Continent",
x = "Country",
y = "Mean Life Expectancy",
fill = "Year") +
theme_minimal()
gapminder %>%
filter(year %in% c(1925, 2025)) %>%
group_by(country, year) %>%
summarise(mean_lex = mean(lex, na.rm = TRUE), .groups = "drop") %>%
ggplot(aes(x = country, y = mean_lex, fill = factor(year))) +
geom_col(position = "dodge") +
labs(title = "Mean Life Expectancy by Continent",
x = "Country",
y = "Mean Life Expectancy",
fill = "Year") +
theme_minimal()
